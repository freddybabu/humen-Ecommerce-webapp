{% extends "base.html" %}
{% load static %}

{% block content %}


<style>
    .pro-qty {
      outline: 1px solid #333;
    }
    
    .qty-btn {
        border: none;
        background-color: transparent;
        font-size: 1.5rem;
        font-weight: bold;
        color: #333;
        cursor: pointer;
    }
    
    .qty-input {
        width: 4rem;
        padding: 0.5rem;
        border: 1px solid #ccc;
        border-radius: 4px;
        margin: 0 0.5rem;
        text-align: center;
        font-size: 1.2rem;
        font-weight: bold;
    }
    
    .qty-input:focus {
        outline: none;
        border-color: #007bff;
    }
    
    .qty-btn:active {
        transform: translateY(2px);
    }

    .oval-select select {
        border-radius: 20px; /* Adjust the value to make it more oval-shaped */
        width: 6rem;
       
    }
    
    .card{
        position: relative;   /*image zooming*/
    }
    .img-zoom-lens {
        position: absolute;
        border: 1px solid #d4d4d4;
        /*set the size of the lens:*/
        width: 40px;
        height: 40px;
      }
      
      .img-zoom-result {
        border: 1px solid #d4d4d4;
        /*set the size of the result div:*/
        width: 477px;
        height: 300px;
      }
    

    
</style>

    <!-- Page Add Section Begin -->
    <section class="page-add">
        <div class="container">
            <div class="row">
                <div class="col-lg-4">
                    <div class="page-breadcrumb">
                        <h2>Store<span>.</span></h2>
                        <a href="#">Home</a>
                        <a href="#">Dresses</a>
                        <a class="active" href="#">Night Dresses</a>
                    </div>
                </div>
                <div class="col-lg-8">
                    <img src="{% static 'img/add.jpg' %}" alt="">
                </div>
            </div>
        </div>
    </section>
    <!-- Page Add Section End -->

    <!-- Product Page Section Beign -->
    <section class="product-page mb-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <div class="product-slider-owl-carousel">
                        <div class="product-img">
                            <figure>
                                <img src="{{single_product.images.url}}" data-zoom-image
                                ="{{single_product.images.url}}" alt="" id="main_product_image">
                                <div class="p-status">new</div>
                            </figure>
                        </div>
                        {% for pic in pictures %}
                        <div class="product-img">
                            <figure>
                                <img src="{{pic.images.url}}" alt="">
                                <div class="p-status">new</div>
                            </figure>
                        </div>
                        {% endfor %}
                    </div>
                    
                </div>



                <div class="col-lg-6 ">
                <form action="{% url 'add_cart' single_product.id %}" method="POST">
                  {% csrf_token %}
                    <div class="product-content" style="margin-left: 6rem;">
                        <h2>{{single_product.product_name}}</h2>
                        <div class="pc-meta">
                            <h5>â‚¹ {{single_product.price}}</h5>
                            <div class="rating">
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                                <i class="fa fa-star"></i>
                            </div>
                        </div>
                        <p>{{single_product.description}}</p>
                        <ul class="tags">
                            <li><span>Category :</span> {{single_product.product_name}}</li>
                            <li><span>Tags :</span> {{single_product.description}}</li>
                        </ul>
                      
                        <!-- <div class="row "> -->
                            <div class="item-option-select mb-4 oval-select">
                                <h6 class="mb-2">Choose color</h6>
                                <select name="color" class="form-control" required>
                                    <option value="" disabled selected>Choose color</option>
                                   {% for i in single_product.variation_set.colors  %}
                                     <option value="{{ i.variation_value | lower }}">{{ i.variation_value | capfirst }}</option>
                                   {% endfor %}
                                </select>

                            </div>
                            <div class="item-option-select mb-4 oval-select">
                                <h6 class="mb-2">Choose Size</h6>
                                <select name="size" class="form-control" required>
                                    <option value="" disabled selected>select</option>
                                  {% for i in single_product.variation_set.sizes  %}
                                    <option value="{{ i.variation_value | lower }}">{{ i.variation_value | capfirst }}</option>
                                  {% endfor %}
                                </select>

                            </div>
                        <!-- </div>                      -->
                        <!-- <div class="product-quantity">
                            <div class="pro-qty">
                                <button class="qty-btn qty-minus" type="button">-</button>
                                <input class="qty-input" type="text" value="0">
                                <button class="qty-btn qty-plus" type="button">+</button>
                            </div>
                        </div> -->
                        {% if single_product.stock <= 0 %}
                          <h5 class="text-danger mt-3"> Out of stock</h5>
                          {% else %}
                             <button type="submit" class="primary-btn pc-btn">Add to cart</button>
                          {% endif %}

                </form>
                        <ul class="p-info">
                            <li>Product Information</li>
                            <li>Reviews</li>
                            <li>Product Care</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Product Page Section End -->
    <script>
        let main_prodcut_image = document.getElementById('main_product_image');
        $("#main_product_image").data('zoom-image', main_prodcut_image.src).elevateZoom({
            responsive: true,
            zoomWindowWidth: 500,
            zoomWindowHeight: 500,
            borderColour: '#888',
            lensShape: 'square',
            lensSize: 150,
            zoomWindowFadeIn: 500,
            zoomWindowFadeOut: 500
        });
    </script>
    <script>
        imageZoom("myimage", "myresult");
    </script>
    

            
{% endblock  %}